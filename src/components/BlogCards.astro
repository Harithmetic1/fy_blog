---
import { Image } from "astro:assets";

import defaultImg from "../images/image_thumbnail.png";

const { thumbnail, postTitle, postDate, postDescription, link } = Astro.props;

// Create a Date object from the timestamp string
const dateObject = new Date(postDate);

// Get the month, day, and year components
const month = dateObject.toLocaleString("default", { month: "long" });
const day = dateObject.getDate();
const year = dateObject.getFullYear();

// Construct the formatted string
const formattedDateString = `${month} ${day}, ${year}`;

const thumbnailImg = thumbnail || defaultImg;
---

<div class="blog-card">
  <a href={link} class="post-thumbnail">
    <img src={thumbnailImg} alt={postTitle} />
  </a>
  <div class="post-content">
    <h2 class="post-title">
      <a href={link}>{postTitle}</a>
    </h2>
    <div class="post-meta">
      <p class="post-name-date">
        ğŸ‘¨ğŸ½â€ğŸ’» by Harith Onigemo <span class="post-date"
          >Published: {formattedDateString}</span
        >
      </p>
    </div>
    <div class="post-description">
      {postDescription}
    </div>
  </div>
</div>
